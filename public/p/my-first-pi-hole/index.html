<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My First Pi-hole | A blog by Yosua Ian Sebastian</title><meta name=keywords content="homesetup,100DaysToOffload"><meta name=description content="Putting a 7 y.o. Raspbian model 2 to work."><meta name=author content="Yosua"><link rel=canonical href=https://darcien.dev/p/my-first-pi-hole/><link crossorigin=anonymous href=/assets/css/stylesheet.7140587df96a2b1a49eb723fa7063dc0c641a6cb638f3140e8d3beb4deae4f5c.css integrity="sha256-cUBYfflqKxpJ63I/pwY9wMZBpstjjzFA6NO+tN6uT1w=" rel="preload stylesheet" as=style><link rel=apple-touch-icon sizes=180x180 href="/apple-touch-icon.png?v=2"><link rel=icon type=image/png sizes=32x32 href="/favicon-32x32.png?v=2"><link rel=icon type=image/png sizes=16x16 href="/favicon-16x16.png?v=2"><link rel=manifest href="/site.webmanifest?v=2"><link rel=mask-icon href="/safari-pinned-tab.svg?v=2" color=#34343c><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link crossorigin=anonymous href=/style.css rel="preload stylesheet" as=style><meta property="og:title" content="My First Pi-hole"><meta property="og:description" content="Putting a 7 y.o. Raspbian model 2 to work."><meta property="og:type" content="article"><meta property="og:url" content="https://darcien.dev/p/my-first-pi-hole/"><meta property="article:section" content="p"><meta property="article:published_time" content="2022-12-12T16:01:20+07:00"><meta property="article:modified_time" content="2022-12-12T16:01:20+07:00"><meta property="og:site_name" content="A blog by Yosua Ian Sebastian"><meta name=twitter:card content="summary"><meta name=twitter:title content="My First Pi-hole"><meta name=twitter:description content="Putting a 7 y.o. Raspbian model 2 to work."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ps","item":"https://darcien.dev/p/"},{"@type":"ListItem","position":2,"name":"My First Pi-hole","item":"https://darcien.dev/p/my-first-pi-hole/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My First Pi-hole","name":"My First Pi-hole","description":"Putting a 7 y.o. Raspbian model 2 to work.","keywords":["homesetup","100DaysToOffload"],"articleBody":"I bought my first Raspberry Pi at 2015, it was model 2. I was an idealist and foolish college freshman at the time. Things happened, and fast forward 7 years later, my Pi was collecting dust. And here I am thinking want I want to do over the new year break. So, as a QoL improvement to my home network, it might be nice to have a Pi-hole.\nI’m surprised the SD card is still alive and it’s still running 2018’s version Raspbian. Hardware also looks good, so I proceed to nuke the SD card and install the latest OS. Seems like Raspbian is no longer a thing, they have Raspberry Pi OS now1.\nIt didn’t even take 3 hours to get everything running and working. I expected it to take a lot more time as I’m setting this up while having lunch.\nRaspberry OS download and write to SD (30 mins) They have official imaging utility now, downloading the image and writing it to the SD card is a breeze now2. My internet speed sucks though, so the download still take some time. Setup static IP for the Pi (needed for Pi-hole) (10 mins) I hate the built-in interface of the ISP provided router with passion (it’s Huawei from IndiHome BTW). It is sluggish and hard to navigate. Install and set-up Pi-hole on the Pi (20 mins) Pi-hole has install script, and that really helps saving some time3. Yes, running unknown script from the internet is dangerous, I understand the risk. Finding admin account for my ISP provided router (10 mins) I just realized the admin user that I use cannot be used to change the DNS server settings. Google here I go. Thankfully I found an user I can use real quick, it’s telecomadmin4. Change default DNS server to Pi-hole in the home router (5 mins) Test everything is working (60 mins and counting) So far it’s working great!\nI’m feeling happy when looking at the queries blocked number going up.\nI still need to figure out some things though:\nWhy some query didn’t go through Pi-hole? How do I back up the SD card? The 7 y.o. SD card won’t last forever. Can I lower the Raspbian temperature? Making it sit in on top of a running router does not help at all. Do I need to set up HTTPS for the console? Should I set up my VPN to use Pi-hole as the DNS server? I’m already using Tailscale for VPN and the Pi is connected to it. Maybe I’ll have an answer after running Pi-hole for a month or so. Tailscale also have official guide here, so this should be a supported use case. Should I set up unbound? Some blog posts that I found useful while setting up Pi-hole:\n“Mmm… Pi-hole…” by Troy Hunt “Catching and dealing with naughty devices on my home network” by Scott Helme “The World’s Greatest Pi-hole (and Unbound) Tutorial 2023” by Crosstalk Solutions Post 6 of #100DaysToOffload.\nhttps://www.tomshardware.com/news/raspberry-pi-os-no-longer-raspbian ↩︎\nhttps://www.raspberrypi.com/software/ ↩︎\nhttps://github.com/pi-hole/pi-hole/#one-step-automated-install ↩︎\nhttps://forum.huawei.com/enterprise/en/how-to-login-hg8245h/thread/762243-100181 ↩︎\n","wordCount":"502","inLanguage":"en","datePublished":"2022-12-12T16:01:20+07:00","dateModified":"2022-12-12T16:01:20+07:00","author":{"@type":"Person","name":"Yosua"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://darcien.dev/p/my-first-pi-hole/"},"publisher":{"@type":"Organization","name":"A blog by Yosua Ian Sebastian","logo":{"@type":"ImageObject","url":"https://darcien.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://darcien.dev/ accesskey=h title="Yosua Ian Sebastian (Alt + H)"><img src=https://darcien.dev/whale_goth.svg alt aria-label=logo height=28>Yosua Ian Sebastian</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://darcien.dev/about title=about><span>about</span></a></li><li><a href=https://darcien.dev/uses title=uses><span>uses</span></a></li><li><a href=https://darcien.dev/tags title=tags><span>tags</span></a></li><li><a href=https://darcien.dev/search title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://status.darcien.dev/ title=status><span>status</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>My First Pi-hole</h1><div class=post-meta><span title='2022-12-12 16:01:20 +0700 WIB'>2022-12-12</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;502 words&nbsp;·&nbsp;Yosua</div></header><div class=post-content><p>I bought my first Raspberry Pi at 2015, it was model 2.
I was an idealist and foolish college freshman at the time.
Things happened, and fast forward 7 years later, my Pi was collecting dust.
And here I am thinking want I want to do over the new year break.
So, as a QoL improvement to my home network, it might be nice to have a <a href=https://pi-hole.net/>Pi-hole</a>.</p><p>I&rsquo;m surprised the SD card is still alive and it&rsquo;s still running 2018&rsquo;s version Raspbian.
Hardware also looks good, so I proceed to nuke the SD card and install the latest OS.
Seems like Raspbian is no longer a thing, they have Raspberry Pi OS now<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>It didn&rsquo;t even take 3 hours to get everything running and working.
I expected it to take a lot more time as I&rsquo;m setting this up while having lunch.</p><ul><li>Raspberry OS download and write to SD (30 mins)<ul><li>They have official imaging utility now, downloading the image and writing it to the SD card is a breeze now<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>.</li><li>My internet speed sucks though, so the download still take some time.</li></ul></li><li>Setup static IP for the Pi (needed for Pi-hole) (10 mins)<ul><li>I hate the built-in interface of the ISP provided router with passion (it&rsquo;s Huawei from IndiHome BTW).
It is sluggish and hard to navigate.</li></ul></li><li>Install and set-up Pi-hole on the Pi (20 mins)<ul><li>Pi-hole has install script, and that really helps saving some time<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.
Yes, running unknown script from the internet is dangerous, I understand the risk.</li></ul></li><li>Finding admin account for my ISP provided router (10 mins)<ul><li>I just realized the admin user that I use cannot be used to change the DNS server settings.
Google here I go.
Thankfully I found an user I can use real quick, it&rsquo;s <code>telecomadmin</code><sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>.</li></ul></li><li>Change default DNS server to Pi-hole in the home router (5 mins)</li><li>Test everything is working (60 mins and counting)</li></ul><p>So far it&rsquo;s working great!</p><figure><img loading=lazy src=/img/first-pi-hole-admin-console.png alt="Admin console of Pi-hole"><figcaption><p>I&rsquo;m feeling happy when looking at the queries blocked number going up.</p></figcaption></figure><script defer src=https://cdn.jsdelivr.net/npm/lightense-images@1.0.17/dist/lightense.min.js integrity="sha256-0L7PA+rlAMaq+Gkzls+i1cUvY9i7D+XF/Yl3BhYKABo=" crossorigin=anonymous></script>
<script defer type=text/javascript>window.addEventListener("load",function(){Lightense('img:not(.no-lightense, [aria-label="logo"])',{background:"rgb(155, 156, 157 / 60%)"})},!1)</script><p>I still need to figure out some things though:</p><ul><li>Why some query didn&rsquo;t go through Pi-hole?</li><li>How do I back up the SD card? The 7 y.o. SD card won&rsquo;t last forever.</li><li>Can I lower the Raspbian temperature? Making it sit in on top of a running router does not help at all.</li><li>Do I need to set up HTTPS for the console?</li><li>Should I set up my VPN to use Pi-hole as the DNS server? I&rsquo;m already using Tailscale for VPN and the Pi is connected to it. Maybe I&rsquo;ll have an answer after running Pi-hole for a month or so. Tailscale also have official guide <a href=https://tailscale.com/kb/1114/pi-hole/>here</a>, so this should be a supported use case.</li><li>Should I set up <a href=https://docs.pi-hole.net/guides/dns/unbound/>unbound</a>?</li></ul><p>Some blog posts that I found useful while setting up Pi-hole:</p><ul><li><a href=https://www.troyhunt.com/mmm-pi-hole/>&ldquo;Mmm&mldr; Pi-hole&mldr;&rdquo; by Troy Hunt</a></li><li><a href=https://scotthelme.co.uk/catching-naughty-devices-on-my-home-network/>&ldquo;Catching and dealing with naughty devices on my home network&rdquo; by Scott Helme</a></li><li><a href=https://www.crosstalksolutions.com/the-worlds-greatest-pi-hole-and-unbound-tutorial-2023>&ldquo;The World’s Greatest Pi-hole (and Unbound) Tutorial 2023&rdquo; by Crosstalk Solutions</a></li></ul><hr><p>Post 6 of <a href=https://100daystooffload.com/>#100DaysToOffload</a>.</p><hr><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.tomshardware.com/news/raspberry-pi-os-no-longer-raspbian>https://www.tomshardware.com/news/raspberry-pi-os-no-longer-raspbian</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://www.raspberrypi.com/software/>https://www.raspberrypi.com/software/</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://github.com/pi-hole/pi-hole/#one-step-automated-install>https://github.com/pi-hole/pi-hole/#one-step-automated-install</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://forum.huawei.com/enterprise/en/how-to-login-hg8245h/thread/762243-100181>https://forum.huawei.com/enterprise/en/how-to-login-hg8245h/thread/762243-100181</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://darcien.dev/tags/homesetup/>homesetup</a></li><li><a href=https://darcien.dev/tags/100daystooffload/>100DaysToOffload</a></li></ul><nav class=paginav><a class=prev href=https://darcien.dev/p/youtube-removed-sort-options/><span class=title>« Prev</span><br><span>YouTube Removed Sort Options?</span></a>
<a class=next href=https://darcien.dev/p/can-you-use-apple-watch-for-hr-monitor-in-zwift/><span class=title>Next »</span><br><span>Can you use Apple Watch for HR monitor in Zwift?</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 A blog by Yosua Ian Sebastian</span><br><span>Blog logo is a recolored <a target=_blank referrerpolicy=no-referrer rel=noopener href=https://twemoji.twitter.com/>Spouting Whale Twemoji</a> by Twitter, Inc
and other contributors and is licensed under <a target=_blank referrerpolicy=no-referrer rel=noopener href=https://creativecommons.org/licenses/by/4.0/>CC-BY
4.0</a></span><div class=footer-blank>This space intentionally left blank.</div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>